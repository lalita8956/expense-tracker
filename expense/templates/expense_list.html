{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Expense Tracker</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- AdminLTE -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/admin-lte@3.2/dist/css/adminlte.min.css">

  <!-- Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body class="hold-transition sidebar-mini layout-fixed bg-light">

<div class="wrapper">

  <!-- Navbar -->
  <nav class="main-header navbar navbar-expand navbar-white navbar-light shadow-sm">
    <ul class="navbar-nav">
      <li class="nav-item">
        <span class="nav-link fw-bold text-primary">ðŸ’° Expense Tracker</span>
      </li>
    </ul>
    <ul class="navbar-nav ms-auto">
      <li class="nav-item">
        <a href="{% url 'add_expense' %}" class="btn btn-success rounded-pill">
          <i class="fa fa-plus"></i> Add Expense
        </a>
      </li>
    </ul>
  </nav>

  <!-- Content Wrapper -->
  <div class="content-wrapper bg-light pt-4">
    <div class="container">

      <!-- Total Expense Card -->
      <div class="row mb-4">
        <div class="col-md-4 mx-auto">
          <div class="info-box bg-gradient-success shadow-sm">
            <span class="info-box-icon"><i class="fa-solid fa-wallet"></i></span>
            <div class="info-box-content">
              <span class="info-box-text fw-bold">Total Expenses</span>
              <span class="info-box-number fs-3">â‚¹ {{ total|default:"0.00" }}</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Expense Table -->
      <div class="card shadow-sm border-0">
        <div class="card-header bg-primary text-white">
          <h3 class="card-title"><i class="fa fa-list"></i> Expense Details</h3>
        </div>
        <div class="card-body p-0">
          <div class="table-responsive">
            <table class="table table-hover table-striped align-middle mb-0">
              <thead class="table-primary">
                <tr>
                  <th><i class="fa fa-tag"></i> Name</th>
                  <th><i class="fa fa-layer-group"></i> Category</th>
                  <th><i class="fa fa-box"></i> Quantity</th>
                  <th><i class="fa fa-ruler"></i> Unit</th>
                  <th><i class="fa fa-money-bill"></i> Amount</th>
                  <th><i class="fa fa-calculator"></i> Total</th>
                  <th><i class="fa fa-calendar"></i> Date</th>
                </tr>
              </thead>
              <tbody>
                {% for expense in expenses %}
                <tr>
                  <td>{{ expense.name }}</td>
                  <td><span class="badge bg-info">{{ expense.get_category_display }}</span></td>
                  <td>{{ expense.quantity }}</td>
                  <td>{{ expense.get_unit_display }}</td>
                  <td>â‚¹ {{ expense.amount }}</td>
                  <td class="fw-bold text-success">â‚¹ {{ expense.total }}</td>
                  <td>{{ expense.create|date:"M d, Y H:i" }}</td>
                </tr>
                {% empty %}
                <tr>
                  <td colspan="7" class="text-center text-muted py-3">
                    <i class="fa fa-info-circle"></i> No expenses added yet.
                  </td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        </div>
      </div>

    </div>
  </div>

  <!-- Footer -->
  <footer class="main-footer text-center small">
    <span>Â© {{ now|date:"Y" }} Expense Tracker</span>
  </footer>
</div>

<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/admin-lte@3.2/dist/js/adminlte.min.js"></script>

</body>
</html>
